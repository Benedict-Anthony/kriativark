{% extends 'base.html' %}
{% load static %}
{% block title %}{{user}}' Dashboard{% endblock title %}

{% block content %}
{% include "navbar.html" %}
<section class="container mx-auto my-3 flex flex-col justify-between items-center space-x- md:flex-row md:mt-6">

    <main class="drop-shadow-lg bg-white text-center flex flex-col justify-around items-center border-2 w-full h-full md:w-96">
        <div class="">
          {% if user.profile.image.url is not None %}
          <img class="w-80 mx-auto mt-2 rounded-full h-80" src=" {{user.profile.image.url}}" alt="">
          {% else %}
          <img src="{% static 'images/defaultuser.png' %} " alt="">
          {% endif %}
        </div>
        <div class="mt-2">
            <h2 class="text-VeryDarkBlue text-2xl">{{user.profile}}</h2>
            <a href=" " class="text-VeryDarkDesaturatedBlue text-sm">{{user.email}}</a>
            <br>
            <br>
            <br>
            <a href=" {% url 'profile' user.profile.slug %} " class="text-white text-md p-2 rounded-md bg-green-800">View Profile</a>
            <a href=" {% url 'update-profile' %} " class=" text-md text-white bg-green-800 p-2 text-md rounded-md">Edit Profile</a>
        </div>

        <article class="mt-3 w-full p-x-2">
            <p class="text-sm text-VeryDarkBlue md:text-lg pb-3">{{user.profile.bio}}</p>
        </article>
    </main>


    {% if has_post %}
        
    <aside class="pl-0 mt-4 mb-2 h-full w-full space-y-3 md:w-2/3 md:pl-5">
        <h2 class="text-2xl mt-5 text-VeryDarkGrayBlue font-bold ">Your Posts</h2>
      <ul class="flex flex-col space-y-3 w-full">


          {% for post in posts %}
          
          
          <li class="flex flex-col items-start bg-white w-full justify-between w-full pr-3 border-VeryLightRed border-x-2 lg:flex-row">
            <div class="flex items-center">
              {% if post.image.url is not None%}
              <img class="w-28 h-20" src="{{post.image.url}}" alt="">
              {% else %}
              <img class="w-28 h-20" src=" {% static 'images/default.jpg' %}" alt="{{post.title}}">
              {% endif %}
              <a href="" class="px-2 text-VeryDarkDesaturatedBlue">{{post.title}}</a>
  
            </div>
             <div class="flex space-x-2 w-full justify-between items-center md:w-1/2 pb-2 pl-2">
              <a href =" {% url 'detail' post.slug %} " type="submit" value="Post" class="w-1/3 py-3 px-4 bg-green-700 text-white rounded-lg hover:bg-green-800 mt-3 text-center text-1xl">View</a>
  
              <a href =" {% url 'update-post' post.slug %} " type="submit" value="Post" class="w-1/3 py-3 px-4 bg-yellow-700 text-white rounded-lg hover:bg-yellow-800 mt-3 text-center text-1xl">Update</a>
  
              <a href =" {% url 'delete-post' post.slug %} " type="submit" value="Post" class="w-1/3 py-3 px-4 bg-red-700 text-white rounded-lg hover:bg-red-800 mt-3 text-center text-1xl">Delete</a>
             </div>
          </li>
          
          {% endfor %}
          {% else %}
          <div class="w-1/2 text-center">
            <h2 class="text-2xl mt-5 text-VeryDarkGrayBlue font-bold ">Your have no post Yet</h2>

            <a href= " {% url 'add-post' %} " class="text-blue-600 hover:text-blue-700">click to add a post</a>
         </div>

        {% endif %}

      </ul>
    </aside>
    
</section>
<a href=" {% url 'delete-acc' %} " class=" text-md text-white bg-red-800 p-2 absolute buttom-3 left-3 text-md rounded-md ">Delete account</a>

{% endblock content %}